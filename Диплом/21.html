<!DOCTYPE html >

<html>
<!--Кнопка назад-->
<input type="button" onclick="history.back();" value="Назад"/>
<div>
<!--Заголовок---->
<h1>Обнаружение и исправлеие ошибок</h1>
</div>
<!--Текстовый блок-->
<div>
При передаче информации по линиям связи по разным причинам возникают ошибки. В последнее время все большее распространение получает беспроводная среда передачи данных, в которой из-за высокого уровня помех может создаваться большое количество ошибок по сравнению с кабельной средой. Поэтому в системах радиосвязи широко применяются коды с исправлением ошибок, или корректирующие коды.
В сетях с медным или оптоволоконным кабелем, обладающих низким уровнем ошибок, более подходящим способом борьбы с ошибками является их обнаружение и повторная передача данных. Методы обнаружения ошибок основаны на введении в состав передаваемого блока данных избыточной служебной информации, называемой контрольной последовательностью кадра (Frame Check Sequence — FCS), которая содержит контрольную сумму и позволяет с некоторой степенью вероятности судить о достоверности принятых данных.
Контрольная сумма вычисляется как функция от основной информации, причем не обязательно путем суммирования. Принимающая сторона повторно вычисляет контрольную сумму кадра по известному алгоритму и в случае ее совпадения с контрольной суммой, вычисленной передающей стороной, делает вывод о том, что данные были переданы через сеть корректно. Рассмотрим несколько распространенных алгоритмов вычисления контрольной суммы, отличающихся вычислительной сложностью и способностью обнаруживать ошибки в данных.
Принципы обнаружения и исправления ошибки. Чтобы распознавать и устранять ошибки при передаче сообщений, необходимо знать, что представляют собой эти ошибки, чем отличаются два кода одинаковой разрядности, с помощью каких операций можно преобразовать один код в другой.
Рассмотрим два байта: 1100 0110 — исходный байт, посылаемый в линию связи, и 1001 0011 — искаженный байт, принятый в узле назначения.
Определим байт ошибки, в котором неискаженными разрядами (0, 1, 3, 5, 7) назначим нулевые значения, а искаженным (2, 4, 6) — единичные значения. В этом случае для определения байта ошибки следует над исходным и искаженным байтами выполнить логическую операцию, которая имеет следующие названия: неравнозначность, сложение по модулю 2, исключающее ИАИ (XOR). По своей сути эта операция сравнивает два бита, причем в случае их неравенства резулыатом является единица (0 & 1 = 1, l & 0 = i), в противном случае (0 & 0 = 0, 1 Ф 1 = 0) — нуль. С помощью операции неравнозначности также можно восстановить искаженный байт. 
Общее число d битовых позиций с разными значениями разрядов двух сравниваемых сообщений называется интервалом Хемминга. Для приведенного примера интервал Хемминга d —— 3.
Принципы построения корректирующих кодов. Допустим, что передаваемое сообщение (кадр) состоит из m бит данных и r дополнительных (контрольных) разрядов, т. е. общая длина сообщения составляет n бит (n = m + r). Тогда из 2П возможных кодовых комбинаций данные допускают только 2‘. Число недопустимых комбинаций равно 2" — 2" - 2”” — 2‘ = 2‘(2‘ — 1).
Появление в принятом сообщении недопустимой комбинации свидетельствует об ошибке.
Покажем на двух примерах, как путем использования дополнительных контрольных разрядов можно не только обнаруживать, но и исправлять ошибку.
Использование для обнаружения ошибок бита. Рассмотрим код, в котором к данным присоединяется один дополнительный бит, называемый битов четности. Значение бита четности выбирается таким образом, чтобы общее число битов со значением 1 в кодированном слове было четным. В этом случае любая одиночная ошибка приведет к нечетному числу единичного бита. Действительно, при изменении в сообщении 0 на 1 появляется дополнительная единица: изменение 1 на 0 приведет к уменьшению единиц. Однако наличие двух ошибок в сообщении сохраняет четное число единиц. Поэтому такой код может использоваться только для обнаружения одиночных ошибок.
Использование кода с исправлением ошибок для 4-битных слов.   Рассмотрим три пересекающихся круга А, В и С, которые создают семь секторов. Закодируем 4-битное слово 1100, для чего в четыре сектора занесем по одному биту. В каждый из трех пустых секторов добавим по одному биту с таким значением, чтобы в каждом круге (А, В и С) находилось четыре числа (0, 0, 1 и 1), которые в сумме дают четное число 2. 7-битное слово, состоящее из четырех бит данных и трех бит четности. Если, например, теперь в секторе AB бит изменится с 0 на 1, то будет зафиксирована ошибка, так как в кругах A и В нарушится четность (появится три единицы вместо двух). Для исправления ошибок путем изменения только одного бита необходимо вернуть биту ошибки в секторе AB прежнее значение 0. Этот способ позволяет обнаружить и исправить ошибку.
Алгоритм Хемминга. Составление кода Хемминга, а также процесс обнаружения и исправления ошибок с его помощью проиллюстрируем на примере четырехразрядного информационного слова
Si  —— Ѕ јЅ  нЅ 2Ѕ j .
В общем случае для получения кода Хемминга к dl-paзpяднoмy информационному слову Sz —— spsp _ , ... sp...st добавляется R контролъных разрядов р . uR- 1.   Р.   . р,. При этом образуется слово Sp + р длмной (if  + А) бит. Будем полагать, что контролъные разряды р, в слове Sz + р занимают позиции с номерами л = 2’* ' £ dl + R, а разряды sq информационного слова Sz — позиции со всеми оставшимися номерами (л z 23. Для if = 4 контрольный разряд р, занимает позицию л = 1, p2 — позицию л = 2, рЗ — позицию л = 4. Поэтому
код Хемминга имеет следующую структуру: s4(7l, sз(6), s i )› Рз(4 , s, (3), Й2(2), р,(i ) , где в скобках указаны номера л позиций отдельных разрядов кода.
Каждый контрольный разряд р, проверяет определенные битовые позиции cнoвa Sz + р, 
Значение р, в каждой группе выбирается таким образом, чтобы получить суммарное число единичных разрядов всей группы (вме- сте с р,), равное четному числу (контроль по четности).
Каждое нарушение четности фиксируется единичным битом, сохранение четности — нулем. В резулыате проверки формируется слово 101a - , , называемое синдромом. Синдром указывает номер разряда, в котором произошла ошибка. Для исправления ошибки необходимо проинвертировать 5-й разряд (st) принятого сообщения, т. е. вернуть ему истинное значение so - 0.
Как указано выше, добавление разряда р для проверки общей четности привело к модифицированному коду Хемминга. Этот код создает возможности обнаружения двойной ошибки.
Таким образом, применение обычного кода Хемминга позволяет исправлять единичные ошибки, а модифицированного кода — исправлять единичные ошибки и обнаруживать двойные.
В рассмотренном примере на три информационных разряда приходится четыре контролъных. Однако в реалъных условиях контрольруются слова болъшей разрядности, для которых относительная избыточность быстро уменьшается с ростом разрядности слов. Под относителъной избьгточностью понимают отношение числа R контролъных разрядов к разрядности информационного слова Ш.
Циклический избыточный код. Для обнаружения ошибок широко исполъзуются полиномиальные коды, в основе которых лежит представление двоичных чисел (битовых строк кадров) в виде многочленов с коэффициентами, равными 0 или 1. При этом кадр из k бит рассматривается как список коэффициентов многочлена степе- ни k — 1. Например, число 1 i 0001, состоящее из шести бит, представляется в виде многочлена пятой степени с коэффициентами 1, 1, 0, 0, 0 и 1: 1 -N + 1 Н  + 0   + 0-N + 0-х' + 1 х° =   + Н + х°. Все действия с многочленами выполняются с исполъзованием логической операции исключающее ИАИ (XOR).
Рассмотрим полиномиалъный код, известный как циклический избыточный код (Cyclic Redundancy Check — CRC), который для формирования передаваемого кадра использует образующий многочлен G(xI г-й степени со старшим и младшим битами, равными единице, а также полином М(х) для вычисления контрольной суммы исходного кадра из m бит. Полином if(x) должен быть длинее образующего многочлена G\x), т. е. m > г.
Вычисление контрольной суммы осуществляется в соответствии со следующим алгоритмом.
Ш а г 1. Добавление г нулевых битов к многочлену Ш(х) в конец кадра так, чтобы он содержат m + г бит, что соответствует много-
Ш а г 2. деление многочлена NM(x) на многочлен G(xI с получением остатка Я(х) < G(x).
Ш а г 3. Вычитание остатка G(x\ из многочлена	f(x) с целью по- лучения передаваемого кадра в виде коэффициентов многочлена Т(х) . Следует отметить, что вместо вычитания исполъзовалась операция исключающего ИАИ, а на шаге 3 вместо нее можно произвести
замену последних нулевых бит многочлена NM(x) остатком R(х).
Принятый в узле назначения кадр T(xI делится на образующийся многочлен G(x). Если в результате деления получен нулевой остаток, то принятый кадр не содержит ошибок. Ненулевой остаток от деления означает ошибку. Вероятность такой нераспознаваемой
ошибки равна (i/2)’° '.
В заключение следует отметить, что на практике используются образующие многочлены, закрепленные стандартами. Например, многочлен
xзz .1. xz6 .ј. xzз -b xzz .t. Je .ј„ xiz -l- хи  -b xio + & + х’ +	+	+	+ J + 1
позволяет определять любые пакеты ошибок длиной не более 32 бит и пакеты, дающие нечетное число бит. Для реализации рассмотренного алгоритма используются простые схемы проверки и подсчета контрольных сумм на основе сдвигового регистра.


</div>
								
			</body>
</html>