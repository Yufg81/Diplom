<!DOCTYPE html >

<html>
<!--Кнопка назад-->
<input type="button" onclick="history.back();" value="Назад"/>
<div>
<!--Заголовок---->
<h1>Адресация узлов сети</h1>
</div>
<!--Текстовый блок-->
<div>
Общие сведения. Одной из важнейших проблем при передаче сообщений является адресация узлов сети, или сетевых интерфейсов. Узлом сети (Node) называют оконечное (или промежуточное) устройство, наделенное одним или несколъкими адресами, а сетевым интерфейсом — точку сопряжения устройства с сетью.
По числу адресуемых узлов (интерфейсов) различают следующие типы адресов:
•	уникальные адреса, используемые для обращения к отдельным узлам сети;
•	адреса произвольной рассылки, которые задают группу адресов и позволяют обратиться к любому из узлов этой группы;
•	групповые aдpeca, обеспечивающие одновременный доступ ко всем узлам выделенной группы;
•	широковещательные aдpeca, предназначенные для обращения ко всем узлам сети.
По способу описания адреса подразделяются на числовые aдpeca, представленные в виде N—разрядного числа в двоичной или другой системе счисления, например, 129.26.255.255 или lA. FFFF, и символьные aдpeca, дул описания которых обычно используются буквы латинского алфавита. Такой адрес несет смысловую нагрузку и легко запоминается.
По принципу организации адресного пространства, под которым понимают множество всех допустимых адресов в рамках некоторой схемы адресации, выделяют линейную (плоскую) и иерархическую организации.
При линейной организации адресного пространства в качестве адреса используется вся совокупность чисел от 0, 1, 2,... до некоторого значения 2N — 1, где N — разрядность адреса. Примером линейной организации могут служить рассматриваемые ниже МАС-адреса, предназначенные для однозначной идентификации узлов в локальных сетях.
При иерархической организации адресное пространство представляет собой вложенные друг в друга подгруппы, которые, последовательно сужая адресуемую область, в конце концов определяют отдельный сетевой интерфейс. При трехуровневой организации адрес конечного узла задается тремя идентификаторами:
1)	Д — идентификатором группы, в которую входит данный узел;
2)	Р — идентификатором подгруппы;
3)	U — идентификатором узла, однозначно определяющим его в подгруппе.
Иерархическая организация адресации позволяет при заданных Д и Р использовать в качестве адреса только его младшую часть U. Примером иерархических числовых адресов являются сетевые ІР и IPX-адреса с двухуровневой иерархией, в которых адрес делится на старшую часть — номер сети и млaдшyю — номер узла.
В процессе пересылки сообщения, как правило, используются различные способы адресации. Например, для пользователей удобно адресовать узлы (компьютеры) иерархическими символъными именами. Для ускорения передачи сообщения из одной сети в другую символъные имена автоматически заменяются числовыми адресами. После доставки сообщения в сеть назначения вместо иерархического числового адреса исполъзуется линиейный аппаратный адрес компьютера.
Преобразование адресов из одного вида в другой осуществляется согласно специалъным вспомогателъным протоколам, которые называются протоколами разрешения адресов.	Для установления соответствия между адресами различных типов используются два подхода: централизованный и распределенный.
1.	При централизованной подходе в сети выделяются специальные компьютеры для хранения таблиц соответствия имен различных типов. Такие компьютеры называются серверам и имен. Компьютеры-клиенты обращаются к серверу имен с запросами, чтобы по символъному имени найти числовой номер (адрес) необходимого компьютера.
2.	При распределительном подходе в каждом компьютере хранятся все назначенные ему адреса. Чтобы определить аппаратный адрес компьютера-приемника по его иерархическому числовому адресу, компьютер-источник посылает в сеть широковещательный запрос с известным ему адресом. Все компьютеры сети сравнивают содержащийся в запросе адрес с собственным адресом, и тот компьютер, у которого была адреса совпали, посылает ответ, содержащий искомый аппаратный адрес.
Одной из особенностей стека TCP/IP является гибкая система адресации, поэтому основные принципы организации адресных пространств в сетях рассмотрим на его примере. В стеке TCP/IP используются три типа адресов: локальные (аппаратные) МАС-адреса, IP-aдpeca и символъные доменные имена.
МАС-адресация. Рассмотрим МАС-адреса, являющиеся физическими адресами, которые исполъзуются в локальных сетях для однозначной адресации интерфейсов и поддерживаются стеком TCP/IP. С их помощью осуществляется управление доступом к среде передачи (Media Access Control — МАС) на канальном уровне. МАС-адреса назначаются сетевым адаптерам и сетевом интерфейсам маршрутизаторов. Они управляются централизованно и поэтому являются уникалъными адресами.
Формат адресов. МАС-адрес представляет coбoй двоичное число длиной 48 бит (или 6 байт). Его записывают в виде шести пар шестнадцатеричных цифр, разделенных тире или двоеточиями. В формате адреса можно выделить два поля по три байта:
1) старшие три байта содержат код производителя, присвоенный организацией IEEE (Institute of Electrical and Electronics Enqineers), например, компания ЗСОМ имеет код производителя 00-20-AF:
2) младшие три байта присваивает сам производителъ для идентификации его продукции, что позволяют ему выпустить 224 изделий (сетевых адаптеров).
Помимо отделъных интерфейсов (узлов), МАС-адрес может определять группу интерфейсов или даже все интерфейсы сети. При этом младший (нулевой) бит Be старшего байта адреса при значении Be 0 указывает на то, что адрес является индивидуальным, т. е. идентифицирует один сетевой интерфейс. Бит В, старшего байта
Для адреса определяет способ назначения адреса, т. е. является адрес централизации (Bt = 0) или	локальным (В, = 1). Централизованный адрес назначается в соответствии с протоколом IEEE 802. Для идентификации всех узлов сети используется широковещательный адрес, для которого зарезервирован код FF-FF-FF-FF (из всех единиц).
Обработка адресов при передаче сообщений. Если физический адрес принятого пакета отличается от адреса компьютера, то полученный пакет отбрасывается сетевым интерфейсом на каналъном уровне, и остальная часть стека протоколов его не обрабатывает.
При совпадении адресов пакет принимается и передается на бoлee высокие уровни, где обрабатывается в соответствии со своим назначением.
Существуют специально зарезервированные адреса, например широковещателъный МАС-адрес, имеющий вид FF—FF-FF—FF—FFFF, т. е. состоящий из одних двоичных единиц. При широковещателъной paccылке данных пакет получают все компьютеры, а отвечает только тот из них, кого предназначено полученное сообщение. Остальные компьютеры отбрасывают такой пакет после его обработки и выяснения, что он предназначен не для них. Поэтому широковещателъные пакеты обрабатываются несколько иначе, нежели обычные, посколъку предназначены для всех компьютеров. Если компьютер получает пакет с адресом, состоящим из одних двоичных единиц, то такой пакет направляется вверх по стеку протоколов для обработки.
ІР-адресация. В больших сетях необходима собственная система адресации, не зависящая от способов адресации в отдельных сетях (подсетях) и позволяющая однозначно идентифицировать (определять) любой узел (интерфейс, сетевой адаптер, хост) всей сети. Такой системе удовлетворяет ІР-адресация. Любой ІР-адрес имеет длину 32 бита (разряда), разделенных на две части: префикс, где старшие биты идентифицирует сеть, т. е. определяют номер сети [3] , и xocm-частъ, в которой младшие биты определяют номер узла.
Максимальное число различимых ІР—адресов равно 23°, или 4 294 967 296. Одна из основных задач при построении системы ІР-адресации состоит в том, чтобы разделить адресное пространство между сетями и узлами. Рассмотрим некоторые способы ее решения.
Классовая IP-адресация.  Для разделения составной сети на сети и узлы введены классы А, В, С и D (Е — резервный) с фиксированным количеством номеров сетей. 
Адрес может быть представлен в двоичной или шестнадцатеричной формах (см. рис. 4.9). Однако наиболее распространенной является запись в виде четырех десятичных чисел, разделенных точками. Каждое десятичное число отражает байт (октет) и соответствует его значению.
Для идентификации класса используются старшие биты адреса, а для идентификации сети — старшие байты. 
Эти данные свидетелъствуют о том, что сети класса А относятся к большим сетям, посколъку максималъное число узлов каждой сети при небольшом их числе (126) составляет свыше 16 млн (к настоящему времени адреса сетей класса А заняты крупными корпорациями, учебными центрами и другими организациями), сети класса С, содержащие неболъшое число узлов, следует отнести к малым сетям (адреса этого в acca выделяются провайдерам Internet), а сети класса В занимают среднее положение.
Адреса классов А, В и С являются индивидуальными адресами (Unicast Address) и используются для идентификации отделъных узлов (сетевых интерфейсов). Адреса класса D относятся к адресам многоабонентской доставки сообщений (Multicast Address), которые идентифицируют группу узлов, принадлежащих в общем случае разным сетям. Входящий в группу адрес наряду с обычным индивидуалъным ІР-адресом дополнительно получает групповой адрес, который помещается в поле адреса назначения ІР-пакета. Если при отправке пакета в этом поле указан адрес класса D, то такой пакет должен быть доставлен всем узлом, которые входят в гpyппy. Один и тот же узел может входить в несколъко rpyпп.
Достоинством классовой адресации является то, что кроме lP-адреса узла не требуется никакой дополиителъной информации. Однако этот способ способен обеспечить толъко указанное в табл. 4.4 число сетей и узлов, т. е. он не позволяет эффективно исполъзовать небольшое по современным меркам 32-разрядное адресное пространство из-за фиксированного его разделения на адреса сетей и узлов. Бесполезная потеря адресов потребовала разработки способов бесклассовой адресации.
Бесклассовая IP-адресация. При адресации с помощью метода CIDR [9] (Classless Inter-Domain Routinq — бесклассовая междоменная маршрутизация) введены суффиксы, которые добавляются к каждому ІР-адресу. Суффикс определяет число бит, выделенных для сетевой части адреса. Адрес CIDR записывается так:
192. 168.1.0/24, где суффикс «/24» означает, что старшие 24 бита ІР—адреса используются для номера сети, а младшие 8 бит — для номера узла. Такая запись адреса соответствует сети класса С. Суффиксы «/8» и «/ 16» соответствуют сетям класса А и В. При других значениях суффикса «/Х» размер сети будет находиться в промежутке между максималъными размерами сетей традиционных классов. С помощью суффикса «/Х» можно выделить любое число бит ІР-адреса и получить большое число классов сетей. Путем изменения суффикса «/Х» можно задать соотношение между числом сетей и узлов, близкое к требуемому. Объединяя неболъшие непрерывные блоки адресов узлов в один большой блок, можно создать cyпepceть.
Адресация с использованием масок. Маска представляет собой 32-битное число, у которого старшие единичные биты определяют префикс, а младшие нулевые биты соответствуют хост-части ІР-адреса.
Принцип организации имен. В стеке TCP/IP применяется доменная система имен, которая имеет иерархическую древовидную структуру с исполъзованием в имени произволъного числа составных частей. Дерево начинается с корня, выше располагаются домены первого уровня (. com, . net.), далее домены второго уровня и т. д.. При этом в состав имен каждого следующего уровня входит полное имя предыдущего. Составные части доменного имени отделяются друг от друга точкой.
При записи доменного имени cнaчaлa указывается старшая составляющая самого высокого уровня, затем последовательно составляющие бoлee низкого уровня А мен имен образуют имена, у которых совпадают одна или несколъко составных частей с низкими уровнями. Например, ed . t.act.eam . net и dev . t.act.eam . net. образуют домен. Домены первого уровня подразделяют по следующим признакам:
•	регионалъному, например, ru — Россия, ua — Украина, u sa — США, uk — Великобритания и др.;
•	типу организаций, например, com — коммерческие организации, orд — некоммерческие организации, edu школы, колледжи и вузы, net. — организации, поддерживающие сети, и др.
Преобразование имен в IP-адрес. Для адресации узла (компьютера, маршрутизатора) сети TPC/IP необходимо от символъного имени перейти к ІР-адресу.
Для этого в первое время после появления сети Internet на каждом хосте создавался текстовый файл с известным именем , каждая строка которого содержала одну пapy «доменное имя — ІР-адрес»:
102.54.94.97 rhino.acme.com # source server.
Недостатком файлового способа преобразования имен является то, что при добавлении в сеть новых узлов файл hos t s . cxc нужно вручную модифицировать и копировать на все узлы сети. Для устранения этого недостатка была разработана централизованная служба имен доменов — DNS.
Служба DNS в своей работе исполъзует протокол, в котором определены DNS-cepвepы, поддерживающие распределенную базу отображений пар «доменное имя — ІР-адрес» , и DNS-клиенты, которые обращаются к серверам с запросами о разрешении доменного имени в ІР—адрес.
Служба DNS исполъзует текстовые файлы почти такого формата, как и файл hos t.s . bxË, и эти файлы администратор также подготавливает вручную. Однако служба DNS опирается на иерархию доменов, и каждый сервер службы DNS хранит толъко часть имен сети, а не все имена, как это происходит при использовании файлов hosts.txt.
При росте числа узлов в сети проблема масштабирования решается созданием новых доменов и поддоменов имен и добавлением в службу DNS новых серверов.
Недостаток ручного обновления базы данных на сервере устраняется с помощью динамической DNS (DDNS). Эта расширенная версия DNS позволяет клиентским компьютерам регистрировать и обновлять на сервере DNS свои записи с информацией о pecypcax в момент внесения в них изменений.
В таблице базы данных DNS чаще всего исполъзуются записи адресов (А), отображающих символические имена узлов (хостов) на ІР-адреса, записи обмена почтовыми сообщениями (Mail eXchanqe — MX) в виде указателей на сервер обмено корреспонденцией для каждого узла и записи канонических имен (CNAME), отображающие псевдонимы (дополнительные имена) на узлы.
Известно два основных способа преобразования DNS-имен. В первом способе работу по поиску ІР-адреса координирует DNS-клиент, во втором — клиент перепоручает работу своему серверу. Практически все DNS-клиенты исполъзуют второй способ.
Следует отметить, что служба DNS позволяет также найти DNS-имя по известному ІР-адресу путем организации так называемых обратные зон, т. е. решить обратную задачу. Обратная зона — это система таблиц, которая хранит соответствие между ІР—адресами и DNS—имена хостов некоторой сети.
Порядок назначения ІР-адресов. При направлении сообщения через составную сеть доменное имя адресата преобразуется в ІР— адрес узла назначения и указывается в заголовке пакета. По номеру сети назначения каждый очередной маршрутизатор находит ІР— адрес следующего маршрутизатора. Перед тем как отправить пакет в следующую сеть, маршрутизатор дoлжeн определить на основании найденного ІР-адреса следующего маршрутизатора его локальный адрес. этой цели протокол IP.
Назначение адресов для автономной сети. В небольшой автономной ІР-сети соблюдение условия уникалъности номеров сетей и узлов возлагается на сетевого администратора, который может выбирать адреса произволъным образом, соблюдая синтаксические правила и учитывая ограничения на особые адреса. Чтобы избежать совпадений с адресами при возможном подключении автономных сетей к сети Internet, для них выделено несколъко так называемых частных адресов:
•	в клacce А сеть с адресом 10.0.0.0,
•	в классе В диапазон из 16 номеров сетей: 172.16.0.0 — 172.31.0.0;
•	в классе С диапазон из 255 сетей: 192.168.0.0 — 192.168.255.0.
Частные адреса исключены из адресного пространства Internet. Их число обеспечивает нумерацию узлов автономных сетей достаточно больших размеров.
Децентрализованное распределение адресов. Главным органом регистрации глобалъных адресов в Internet является неправителъственная некоммерческая организация ICANN (Internet Corporation for Assiдned Names and Numbers). Она контролирует выдачу доменных имен верхнего уровня, отвечает за адресное пространство Internet, определение параметров протоколов, систему доменных имен и систему корневых серверов. Основной проблемой централизованного распределения адресов является их нехватка. Дефицит адресов обусловлен не толъко ростом сетей, но и нерационалъным исполъзованием имеющегося адресного пространства. Принципиальным решением этой проблемы является переход на новую версию протокола IPv6, в которой резко расширяется адресное пространство путем увеличения разрядности до 128 бит.
Назначение ІР-адресов может производиться как вручную, так и автоматически в процессе конфигурирования компьютеров и маршрутизаторов. При назначении адресов вручную администратор должен знать параметры стека TCP/IP, необходимые для его эффективной работы (например, маску и ІР-адрес маршрутизатора по умолчанию, ІР-адрес сервера DNS, доменное имя компьютера и т. д.), и какие адреса из имеющегося множества уже исполъзованы, а какие еще свободны.
Дaжe при не очень болъшом размере сети ручное назначение адресов является для администратора утомителъной работой. Поэтому для автоматизации этого процесса используется протокол динамического конфигурирования хостов (Dynamic Host Confiдuration Protocol — DHCP), который устраняет дублирование адресов благодаря централизованному управлению их распределением.
Отображение ІР-адресов на локальные адреса. При перемещении ІР—пакета по составной сети одной из главных задач является обеспечение согласованной работы сети, состоящей из подсетей, которые используют в общем случае разные сетевые технологии. На каждом узде (маршрутизаторе) протокол IP определяет ІР-адрес следующего узла, куда надо направить пакет. этого необходимо упаковать пакет в кадр соответствующего для данной сети формата (например, Ethernet) и снабдить данный кадр локалъным адресом следующего маршрутизатора.
Рассмотрим способы установления соответствия между локальным адресом и его ІР-адресом.
Протокол разрешения адресов ARP. В резулътате конфигурирования сети каждому узлу (интерфейсу) назначаются собственное два адреса — аппаратный МАС-адрес и ІР-адрес, которые заносятся в таблицу. Так как никакой зависимости между ними не существует, необходимо с помощью таблицы установить соответствие этих адресов узла. Для определения локального МАСадреса по ІР-адресу используется протокол разрешения адресов (Address Resolution Protocol — ARP), работа которого зависит от вида сети.
Особенности протоколов Rarp и Proxy ARP. В тех случаях, когда возникает необходимость нахождения ІР-адреса по известному локалъному адресу (обратная задача), исполъзуют реверсивный протокол ARP (Reverse Address Resolution Protocol — RARP)
Протокол Proxy-ARP является одной из разновидностей протокола ARP. Он позволяет отображать lP-aдpeca на аппаратные адреса в сетях, поддерживающих широковещание, даже в тех случаях, когда искомый узел находится за пределами данного домена коллизий.


</div>
								
			</body>
</html>